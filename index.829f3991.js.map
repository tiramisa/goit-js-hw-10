{"mappings":"C,A,WCKA,SAAS,EAAQ,CAAE,EACjB,OAAO,SAAU,CAAC,EAChB,OAAO,IAAI,QAAQ,SAAA,CAAnB,EAA8B,OAAA,WAAW,WAAM,OAAA,EAAQ,EAAI,EAAA,E,EAC7D,CACF,CAgBA,IAAI,EAAe,EAAE,CAEjB,EAAc,SAAS,cAAA,CAAe,gBACtC,EAAS,SAAS,cAAA,CAAe,UACjC,EAAQ,SAAS,cAAA,CAAe,SAChC,EAAe,SAAS,cAAA,CAAe,YAoC3C,SAAS,IACP,EAAO,KAAA,CAAM,OAAA,CAAU,QACvB,EAAa,KAAA,CAAM,OAAA,CAAU,OAC7B,IApDuB,EAoDnB,EAAQ,EAAY,aAAxB,CAEA,CAtDuB,EAqDT,CAAY,CAAC,EAAM,CAAC,EAAlC,CApDO,MAAO,GAAoB,MAAA,CAjBvB,6CAiBU,eAAqB,MAAA,CAAR,IAAW,IAAA,CAAK,SAAA,CAAlD,EACE,OAAO,EAAS,IAAhB,EACF,IAoDG,IAAA,CAAK,EAAQ,MACb,IAAA,CAAK,SAAA,CAFR,EAGI,IAAI,EAAO,CAAI,CAAC,EAAE,AAClB,CAAA,SAAS,cAAA,CAAe,eAAe,GAAA,CAAM,EAAK,GAAlD,CAEA,IAAI,EAAU,CAAY,CAAC,EAAM,AACjC,CAAA,SAAS,cAAA,CAAe,cAAc,WAAA,CAAc,EAAQ,IAA5D,CACA,SAAS,cAAA,CAAe,qBAAqB,WAAA,CAAc,EAAQ,WAAnE,CACA,SAAS,cAAA,CAAe,qBAAqB,WAAA,CAAc,EAAQ,WAAnE,CACA,EAAO,KAAA,CAAM,OAAA,CAAU,OACvB,EAAa,KAAA,CAAM,OAAA,CAAU,OAC/B,GACC,KAAA,CAAM,EACX,CAEA,SAAS,IACP,EAAM,KAAA,CAAM,OAAA,CAAU,QACtB,EAAO,KAAA,CAAM,OAAA,CAAU,OACvB,EAAa,KAAA,CAAM,OAAA,CAAU,MAC/B,CA3DA,EAAY,gBAAA,CAAiB,SAAU,GAEvC,EAAY,KAAA,CAAM,OAAA,CAAU,OAC5B,EAAO,KAAA,CAAM,OAAA,CAAU,QACvB,EAAa,KAAA,CAAM,OAAA,CAAU,OAG7B,AA3BS,MAAO,GAAiB,MAAA,CAZrB,sCAYU,aAAmB,MAAA,CATvC,0EAS0C,IAAA,CAAK,SAAA,CAA/C,EACE,OAAO,EAAS,IAAhB,EACF,GA0BC,IAAA,CAAK,EAAQ,MACb,IAAA,CAAK,SAAA,CAFR,EAMI,EAFA,EAAO,EAAK,MAAA,CAAO,SAAA,CAAnB,EAA0B,IAAA,EAAA,MAAA,AAAA,CAAA,AAAI,OAAJ,CAAA,EAAA,EAAI,KAAA,AAAA,GAAJ,AAAA,KAAA,IAAA,EAAA,KAAA,EAAA,EAAW,GAAE,AAAF,GAAO,I,GAI5C,IAAK,IAAI,EAAI,EAAG,EAAI,EAAa,MAAA,CAAQ,IAAK,CAC5C,IAAM,EAAQ,CAAY,CAAC,EAAE,CACzB,EAAS,SAAS,aAAA,CAAc,SAG/B,CAAA,EAAM,KAAA,GAGX,EAAO,KAAA,CAAQ,EACf,EAAO,SAAA,CAAa,GAAa,MAAA,CAAX,EAAM,IAA5B,EACA,SAAS,cAAA,CAAe,gBAAgB,WAAA,CAAY,GACtD,CACA,EAAY,KAAA,CAAM,OAAA,CAAU,eAC5B,EAAO,KAAA,CAAM,OAAA,CAAU,OAEvB,GACF,GACC,KAAA,CAAM,E","sources":["<anon>","src/js/cat-api.js"],"sourcesContent":["(function () {\nvar $8994e83c1b13b9e2$var$url = \"https://api.thecatapi.com/v1/breeds\";\nvar $8994e83c1b13b9e2$var$url2 = \"https://api.thecatapi.com/v1/images/search\";\nvar $8994e83c1b13b9e2$var$api_key = \"live_ATkDsnwAvU937nPda3qiR2ikVv7ea9Bi3sQ0ez5BCTcp5A1d1bJkzyvl3CMZEOEb\";\nfunction $8994e83c1b13b9e2$var$sleeper(ms) {\n    return function(x) {\n        return new Promise(function(resolve) {\n            return setTimeout(function() {\n                return resolve(x);\n            }, ms);\n        });\n    };\n}\nfunction $8994e83c1b13b9e2$export$913382e0b15b5503() {\n    return fetch(\"\".concat($8994e83c1b13b9e2$var$url, \"?api_key=\").concat($8994e83c1b13b9e2$var$api_key)).then(function(response) {\n        return response.json();\n    });\n}\nfunction $8994e83c1b13b9e2$export$57b7d3a597416aa2(breedId) {\n    return fetch(\"\".concat($8994e83c1b13b9e2$var$url2, \"?breed_ids=\").concat(breedId)).then(function(response) {\n        return response.json();\n    });\n}\nvar $8994e83c1b13b9e2$var$storedBreeds = [];\nvar $8994e83c1b13b9e2$var$breedSelect = document.getElementById(\"breed-select\");\nvar $8994e83c1b13b9e2$var$loader = document.getElementById(\"loader\");\nvar $8994e83c1b13b9e2$var$error = document.getElementById(\"error\");\nvar $8994e83c1b13b9e2$var$catInfoBlock = document.getElementById(\"cat-info\");\n$8994e83c1b13b9e2$var$breedSelect.addEventListener(\"change\", $8994e83c1b13b9e2$var$showBreedImage);\n$8994e83c1b13b9e2$var$breedSelect.style.display = \"none\";\n$8994e83c1b13b9e2$var$loader.style.display = \"block\";\n$8994e83c1b13b9e2$var$catInfoBlock.style.display = \"none\";\n$8994e83c1b13b9e2$export$913382e0b15b5503().then($8994e83c1b13b9e2$var$sleeper(2000)).then(function(data) {\n    //filter to only include those with an `image` object\n    data = data.filter(function(img) {\n        var _img_image;\n        return ((_img_image = img.image) === null || _img_image === void 0 ? void 0 : _img_image.url) != null;\n    });\n    $8994e83c1b13b9e2$var$storedBreeds = data;\n    for(var i = 0; i < $8994e83c1b13b9e2$var$storedBreeds.length; i++){\n        var breed = $8994e83c1b13b9e2$var$storedBreeds[i];\n        var option = document.createElement(\"option\");\n        //skip any breeds that don't have an image\n        if (!breed.image) continue;\n        //use the current array index\n        option.value = i;\n        option.innerHTML = \"\".concat(breed.name);\n        document.getElementById(\"breed-select\").appendChild(option);\n    }\n    $8994e83c1b13b9e2$var$breedSelect.style.display = \"inline-block\";\n    $8994e83c1b13b9e2$var$loader.style.display = \"none\";\n    $8994e83c1b13b9e2$var$showBreedImage();\n}).catch($8994e83c1b13b9e2$var$showError);\nfunction $8994e83c1b13b9e2$var$showBreedImage() {\n    $8994e83c1b13b9e2$var$loader.style.display = \"block\";\n    $8994e83c1b13b9e2$var$catInfoBlock.style.display = \"none\";\n    var index = $8994e83c1b13b9e2$var$breedSelect.selectedIndex;\n    var breedId = $8994e83c1b13b9e2$var$storedBreeds[index].id;\n    $8994e83c1b13b9e2$export$57b7d3a597416aa2(breedId).then($8994e83c1b13b9e2$var$sleeper(2000)).then(function(data) {\n        var item = data[0];\n        document.getElementById(\"breed_image\").src = item.url;\n        var catItem = $8994e83c1b13b9e2$var$storedBreeds[index];\n        document.getElementById(\"bread_name\").textContent = catItem.name;\n        document.getElementById(\"bread_description\").textContent = catItem.description;\n        document.getElementById(\"bread_temperament\").textContent = catItem.temperament;\n        $8994e83c1b13b9e2$var$loader.style.display = \"none\";\n        $8994e83c1b13b9e2$var$catInfoBlock.style.display = \"block\";\n    }).catch($8994e83c1b13b9e2$var$showError);\n}\nfunction $8994e83c1b13b9e2$var$showError() {\n    $8994e83c1b13b9e2$var$error.style.display = \"block\";\n    $8994e83c1b13b9e2$var$loader.style.display = \"none\";\n    $8994e83c1b13b9e2$var$catInfoBlock.style.display = \"none\";\n}\n\n})();\n//# sourceMappingURL=index.829f3991.js.map\n","const url = 'https://api.thecatapi.com/v1/breeds';\nconst url2 = 'https://api.thecatapi.com/v1/images/search';\nconst api_key =\n  'live_ATkDsnwAvU937nPda3qiR2ikVv7ea9Bi3sQ0ez5BCTcp5A1d1bJkzyvl3CMZEOEb';\n\nfunction sleeper(ms) {\n  return function (x) {\n    return new Promise(resolve => setTimeout(() => resolve(x), ms));\n  };\n}\n\nfunction fetchBreeds() {\n  return fetch(`${url}?api_key=${api_key}`).then(response => {\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(`${url2}?breed_ids=${breedId}`).then(response => {\n    return response.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n\nlet storedBreeds = [];\n\nlet breedSelect = document.getElementById('breed-select')\nlet loader = document.getElementById('loader')\nlet error = document.getElementById('error')\nlet catInfoBlock = document.getElementById('cat-info')\n\nbreedSelect.addEventListener('change', showBreedImage);\n\nbreedSelect.style.display = \"none\"\nloader.style.display = \"block\"\ncatInfoBlock.style.display = 'none'\n\n\nfetchBreeds()\n  .then(sleeper(2000))\n  .then(data => {\n    //filter to only include those with an `image` object\n    data = data.filter(img => img.image?.url != null);\n\n    storedBreeds = data;\n\n    for (let i = 0; i < storedBreeds.length; i++) {\n      const breed = storedBreeds[i];\n      let option = document.createElement('option');\n\n      //skip any breeds that don't have an image\n      if (!breed.image) continue;\n\n      //use the current array index\n      option.value = i;\n      option.innerHTML = `${breed.name}`;\n      document.getElementById('breed-select').appendChild(option);\n    }\n    breedSelect.style.display = \"inline-block\"\n    loader.style.display = \"none\"\n\n    showBreedImage()\n  })\n  .catch(showError);\n\nfunction showBreedImage() {\n  loader.style.display = \"block\"\n  catInfoBlock.style.display = 'none'\n  let index = breedSelect.selectedIndex;\n  let breedId = storedBreeds[index].id;\n  fetchCatByBreed(breedId)\n    .then(sleeper(2000))\n    .then(data => {\n      let item = data[0]\n      document.getElementById('breed_image').src = item.url;\n\n      let catItem = storedBreeds[index]\n      document.getElementById('bread_name').textContent = catItem.name;\n      document.getElementById('bread_description').textContent = catItem.description;\n      document.getElementById('bread_temperament').textContent = catItem.temperament;\n      loader.style.display = \"none\"\n      catInfoBlock.style.display = 'block'\n    })\n    .catch(showError);\n}\n\nfunction showError() {\n  error.style.display = \"block\"\n  loader.style.display = \"none\"\n  catInfoBlock.style.display = \"none\"\n}"],"names":["$8994e83c1b13b9e2$var$sleeper","ms","x","Promise","resolve","setTimeout","$8994e83c1b13b9e2$var$storedBreeds","$8994e83c1b13b9e2$var$breedSelect","document","getElementById","$8994e83c1b13b9e2$var$loader","$8994e83c1b13b9e2$var$error","$8994e83c1b13b9e2$var$catInfoBlock","$8994e83c1b13b9e2$var$showBreedImage","style","display","breedId","index","selectedIndex","$8994e83c1b13b9e2$export$57b7d3a597416aa2","id","fetch","concat","then","response","json","data","item","src","url","catItem","textContent","name","description","temperament","catch","$8994e83c1b13b9e2$var$showError","addEventListener","$8994e83c1b13b9e2$export$913382e0b15b5503","filter","img","_img_image","image","i","length","breed","option","createElement","value","innerHTML","appendChild"],"version":3,"file":"index.829f3991.js.map"}